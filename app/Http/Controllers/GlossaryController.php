<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class GlossaryController extends Controller
{
    /**
     * ç”¨èªžé›†ä¸€è¦§ã‚’è¡¨ç¤º
     */
    public function index()
    {
        $terms = $this->getAllTerms();
        $categories = $this->getCategories();
        
        return view('glossary.index', compact('terms', 'categories'));
    }

    /**
     * ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥ç”¨èªžé›†
     */
    public function category($category)
    {
        $terms = $this->getTermsByCategory($category);
        $categoryName = $this->getCategoryName($category);
        $categories = $this->getCategories();
        
        return view('glossary.category', compact('terms', 'categoryName', 'category', 'categories'));
    }

    /**
     * å…¨ç”¨èªžã‚’å–å¾—
     */
    private function getAllTerms(): array
    {
        return [
            // é‡‘èžãƒ»ãƒ­ãƒ¼ãƒ³é–¢é€£
            [
                'term' => 'å…ƒåˆ©å‡ç­‰è¿”æ¸ˆ',
                'reading' => 'ãŒã‚“ã‚Šãã‚“ã¨ã†ã¸ã‚“ã•ã„',
                'category' => 'loan',
                'description' => 'æ¯Žæœˆã®è¿”æ¸ˆé¡ï¼ˆå…ƒé‡‘+åˆ©æ¯ï¼‰ãŒä¸€å®šã¨ãªã‚‹è¿”æ¸ˆæ–¹å¼ã€‚è¿”æ¸ˆè¨ˆç”»ãŒç«‹ã¦ã‚„ã™ãã€å¤šãã®ä½å®…ãƒ­ãƒ¼ãƒ³ã§æŽ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚è¿”æ¸ˆå½“åˆã¯åˆ©æ¯ã®å‰²åˆãŒå¤§ããã€å¾ã€…ã«å…ƒé‡‘è¿”æ¸ˆã®å‰²åˆãŒå¢—ãˆã¦ã„ãã¾ã™ã€‚',
                'example' => 'å€Ÿå…¥3000ä¸‡å††ã€é‡‘åˆ©1.5%ã€35å¹´è¿”æ¸ˆã®å ´åˆã€æ¯Žæœˆç´„91,855å††ã‚’ä¸€å®šé¡ã§è¿”æ¸ˆã—ã¾ã™ã€‚',
            ],
            [
                'term' => 'å…ƒé‡‘å‡ç­‰è¿”æ¸ˆ',
                'reading' => 'ãŒã‚“ãã‚“ãã‚“ã¨ã†ã¸ã‚“ã•ã„',
                'category' => 'loan',
                'description' => 'æ¯Žæœˆè¿”æ¸ˆã™ã‚‹å…ƒé‡‘ãŒä¸€å®šã§ã€åˆ©æ¯ãŒå¾ã€…ã«æ¸›å°‘ã—ã¦ã„ãè¿”æ¸ˆæ–¹å¼ã€‚è¿”æ¸ˆå½“åˆã®è² æ‹…ã¯å¤§ãã„ã§ã™ãŒã€ç·è¿”æ¸ˆé¡ã¯å…ƒåˆ©å‡ç­‰è¿”æ¸ˆã‚ˆã‚Šå°‘ãªããªã‚Šã¾ã™ã€‚',
                'example' => '3000ä¸‡å††ã‚’35å¹´ã§è¿”æ¸ˆã™ã‚‹å ´åˆã€åˆå›žã®è¿”æ¸ˆé¡ã¯ç´„10.8ä¸‡å††ã§ã™ãŒã€æœ€çµ‚å›žã¯ç´„7.2ä¸‡å††ã¾ã§æ¸›å°‘ã—ã¾ã™ã€‚',
            ],
            [
                'term' => 'å¹´åˆ©çŽ‡ï¼ˆå¹´çŽ‡ï¼‰',
                'reading' => 'ã­ã‚“ã‚Šã‚Šã¤ï¼ˆã­ã‚“ã‚Šã¤ï¼‰',
                'category' => 'loan',
                'description' => '1å¹´é–“ã‚ãŸã‚Šã®åˆ©æ¯ã®å‰²åˆã€‚%ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒ­ãƒ¼ãƒ³ã‚„é é‡‘ã®é‡‘åˆ©ã¯é€šå¸¸ã€å¹´åˆ©çŽ‡ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚',
                'example' => 'å¹´åˆ©çŽ‡3%ã®å ´åˆã€100ä¸‡å††ã‚’1å¹´é–“å€Ÿã‚Šã‚‹ã¨3ä¸‡å††ã®åˆ©æ¯ãŒã‹ã‹ã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'å¤‰å‹•é‡‘åˆ©',
                'reading' => 'ã¸ã‚“ã©ã†ãã‚“ã‚Š',
                'category' => 'loan',
                'description' => 'å¸‚å ´é‡‘åˆ©ã®å¤‰å‹•ã«å¿œã˜ã¦å®šæœŸçš„ã«è¦‹ç›´ã•ã‚Œã‚‹é‡‘åˆ©ã‚¿ã‚¤ãƒ—ã€‚é€šå¸¸ã€åŠå¹´ã”ã¨ã«é‡‘åˆ©ãŒè¦‹ç›´ã•ã‚Œã¾ã™ã€‚åˆæœŸé‡‘åˆ©ã¯å›ºå®šé‡‘åˆ©ã‚ˆã‚Šä½Žã‚ã§ã™ãŒã€å°†æ¥çš„ã«ä¸Šæ˜‡ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚',
                'example' => 'ç¾åœ¨ã¯å¹´0.5%ã ãŒã€å¸‚å ´é‡‘åˆ©ãŒä¸Šæ˜‡ã™ã‚Œã°1.0%ã«ä¸ŠãŒã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'å›ºå®šé‡‘åˆ©',
                'reading' => 'ã“ã¦ã„ãã‚“ã‚Š',
                'category' => 'loan',
                'description' => 'å€Ÿå…¥æ™‚ã®é‡‘åˆ©ãŒè¿”æ¸ˆæœŸé–“ä¸­ãšã£ã¨å¤‰ã‚ã‚‰ãªã„é‡‘åˆ©ã‚¿ã‚¤ãƒ—ã€‚è¿”æ¸ˆè¨ˆç”»ãŒç«‹ã¦ã‚„ã™ãã€é‡‘åˆ©ä¸Šæ˜‡ãƒªã‚¹ã‚¯ã‚’å›žé¿ã§ãã¾ã™ãŒã€ä¸€èˆ¬çš„ã«å¤‰å‹•é‡‘åˆ©ã‚ˆã‚Šé‡‘åˆ©ãŒé«˜ã‚ã§ã™ã€‚',
                'example' => '35å¹´å›ºå®šé‡‘åˆ©1.5%ãªã‚‰ã€35å¹´é–“ãšã£ã¨1.5%ã®ã¾ã¾è¿”æ¸ˆã§ãã¾ã™ã€‚',
            ],
            [
                'term' => 'ç¹°ã‚Šä¸Šã’è¿”æ¸ˆ',
                'reading' => 'ãã‚Šã‚ã’ã¸ã‚“ã•ã„',
                'category' => 'loan',
                'description' => 'é€šå¸¸ã®è¿”æ¸ˆã¨ã¯åˆ¥ã«ã€ã¾ã¨ã¾ã£ãŸé‡‘é¡ã‚’è¿”æ¸ˆã™ã‚‹ã“ã¨ã€‚æœŸé–“çŸ­ç¸®åž‹ã¨è¿”æ¸ˆé¡è»½æ¸›åž‹ãŒã‚ã‚Šã¾ã™ã€‚åˆ©æ¯ã‚’æ¸›ã‚‰ã™åŠ¹æžœãŒã‚ã‚Šã€æ—©ã‚ã«è¡Œã†ã»ã©åŠ¹æžœçš„ã§ã™ã€‚',
                'example' => '100ä¸‡å††ã‚’ç¹°ã‚Šä¸Šã’è¿”æ¸ˆã™ã‚‹ã¨ã€ç·è¿”æ¸ˆé¡ã‚’50ä¸‡å††ä»¥ä¸Šæ¸›ã‚‰ã›ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'é ­é‡‘',
                'reading' => 'ã‚ãŸã¾ãã‚“',
                'category' => 'loan',
                'description' => 'ä½å®…è³¼å…¥æ™‚ã«æœ€åˆã«æ”¯æ‰•ã†ç¾é‡‘ã€‚ç‰©ä»¶ä¾¡æ ¼ã®10ã€œ20%ãŒç›®å®‰ã¨ã•ã‚Œã¾ã™ã€‚é ­é‡‘ãŒå¤šã„ã»ã©å€Ÿå…¥é¡ãŒæ¸›ã‚Šã€ç·è¿”æ¸ˆé¡ã‚‚å°‘ãªããªã‚Šã¾ã™ã€‚',
                'example' => '3000ä¸‡å††ã®ç‰©ä»¶ãªã‚‰ã€300ã€œ600ä¸‡å††ã®é ­é‡‘ãŒç†æƒ³çš„ã§ã™ã€‚',
            ],

            // ç©ç«‹ãƒ»æŠ•è³‡é–¢é€£
            [
                'term' => 'è¤‡åˆ©',
                'reading' => 'ãµãã‚Š',
                'category' => 'savings',
                'description' => 'å…ƒé‡‘ã¨åˆ©æ¯ã®åˆè¨ˆã«å¯¾ã—ã¦åˆ©æ¯ãŒè¨ˆç®—ã•ã‚Œã‚‹ä»•çµ„ã¿ã€‚ã€Œåˆ©æ¯ãŒåˆ©æ¯ã‚’ç”Ÿã‚€ã€åŠ¹æžœãŒã‚ã‚Šã€é•·æœŸé‹ç”¨ã§å¤§ããªåŠ¹æžœã‚’ç™ºæ®ã—ã¾ã™ã€‚ã‚¢ã‚¤ãƒ³ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³ãŒã€Œäººé¡žæœ€å¤§ã®ç™ºæ˜Žã€ã¨å‘¼ã‚“ã ã¨ã•ã‚Œã¾ã™ã€‚',
                'example' => '100ä¸‡å††ã‚’å¹´åˆ©3%ã§10å¹´é–“è¤‡åˆ©é‹ç”¨ã™ã‚‹ã¨ã€ç´„134ä¸‡å††ã«ãªã‚Šã¾ã™ï¼ˆå˜åˆ©ãªã‚‰130ä¸‡å††ï¼‰ã€‚',
            ],
            [
                'term' => 'å˜åˆ©',
                'reading' => 'ãŸã‚“ã‚Š',
                'category' => 'savings',
                'description' => 'å…ƒé‡‘ã«å¯¾ã—ã¦ã®ã¿åˆ©æ¯ãŒè¨ˆç®—ã•ã‚Œã‚‹ä»•çµ„ã¿ã€‚è¤‡åˆ©ã¨æ¯”ã¹ã‚‹ã¨åˆ©æ¯ã¯å°‘ãªããªã‚Šã¾ã™ã€‚',
                'example' => '100ä¸‡å††ã‚’å¹´åˆ©3%ã§10å¹´é–“å˜åˆ©é‹ç”¨ã™ã‚‹ã¨ã€130ä¸‡å††ã«ãªã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'ç©ç«‹æŠ•è³‡',
                'reading' => 'ã¤ã¿ãŸã¦ã¨ã†ã—',
                'category' => 'savings',
                'description' => 'å®šæœŸçš„ã«ä¸€å®šé¡ã‚’æŠ•è³‡ã—ã¦ã„ãæ–¹æ³•ã€‚ãƒ‰ãƒ«ã‚³ã‚¹ãƒˆå¹³å‡æ³•ã«ã‚ˆã‚Šã€ä¾¡æ ¼å¤‰å‹•ãƒªã‚¹ã‚¯ã‚’æŠ‘ãˆã‚‰ã‚Œã¾ã™ã€‚å°‘é¡ã‹ã‚‰å§‹ã‚ã‚‰ã‚Œã€é•·æœŸçš„ãªè³‡ç”£å½¢æˆã«é©ã—ã¦ã„ã¾ã™ã€‚',
                'example' => 'æ¯Žæœˆ3ä¸‡å††ãšã¤æŠ•è³‡ä¿¡è¨—ã‚’è³¼å…¥ã—ã€20å¹´é–“ç¶™ç¶šã—ã¾ã™ã€‚',
            ],
            [
                'term' => 'NISAï¼ˆãƒ‹ãƒ¼ã‚µï¼‰',
                'reading' => 'ãƒ‹ãƒ¼ã‚µ',
                'category' => 'savings',
                'description' => 'å°‘é¡æŠ•è³‡éžèª²ç¨Žåˆ¶åº¦ã€‚æŠ•è³‡ã§å¾—ãŸåˆ©ç›ŠãŒéžèª²ç¨Žã«ãªã‚‹åˆ¶åº¦ã§ã™ã€‚2024å¹´ã‹ã‚‰æ–°NISAãŒé–‹å§‹ã•ã‚Œã€å¹´é–“360ä¸‡å††ã¾ã§éžèª²ç¨Žã§æŠ•è³‡ã§ãã¾ã™ã€‚',
                'example' => 'æŠ•è³‡ä¿¡è¨—ã§10ä¸‡å††ã®åˆ©ç›ŠãŒå‡ºã¦ã‚‚ã€NISAå£åº§ãªã‚‰ç¨Žé‡‘ãŒã‹ã‹ã‚Šã¾ã›ã‚“ï¼ˆé€šå¸¸ã¯ç´„2ä¸‡å††ã®ç¨Žé‡‘ï¼‰ã€‚',
            ],
            [
                'term' => 'iDeCoï¼ˆã‚¤ãƒ‡ã‚³ï¼‰',
                'reading' => 'ã‚¤ãƒ‡ã‚³',
                'category' => 'savings',
                'description' => 'å€‹äººåž‹ç¢ºå®šæ‹ å‡ºå¹´é‡‘ã€‚è‡ªåˆ†ã§æŽ›é‡‘ã‚’æ‹ å‡ºã—ã€é‹ç”¨ã—ã€60æ­³ä»¥é™ã«å—ã‘å–ã‚‹åˆ¶åº¦ã€‚æŽ›é‡‘ãŒå…¨é¡æ‰€å¾—æŽ§é™¤ã«ãªã‚Šã€é‹ç”¨ç›Šã‚‚éžèª²ç¨Žã§ã™ã€‚',
                'example' => 'æœˆ2ä¸‡å††ã®æŽ›é‡‘ãªã‚‰ã€å¹´é–“24ä¸‡å††ãŒæ‰€å¾—æŽ§é™¤ã€‚ç¨ŽçŽ‡20%ãªã‚‰ç´„4.8ä¸‡å††ã®ç¯€ç¨ŽåŠ¹æžœã€‚',
            ],
            [
                'term' => 'ãƒ‰ãƒ«ã‚³ã‚¹ãƒˆå¹³å‡æ³•',
                'reading' => 'ãƒ‰ãƒ«ã‚³ã‚¹ãƒˆã¸ã„ãã‚“ã»ã†',
                'category' => 'savings',
                'description' => 'å®šæœŸçš„ã«ä¸€å®šé¡ã‚’æŠ•è³‡ã™ã‚‹æ–¹æ³•ã€‚ä¾¡æ ¼ãŒé«˜ã„æ™‚ã¯å°‘ãªãã€å®‰ã„æ™‚ã¯å¤šãè³¼å…¥ã™ã‚‹ã“ã¨ã§ã€å¹³å‡è³¼å…¥å˜ä¾¡ã‚’æŠ‘ãˆã‚‰ã‚Œã¾ã™ã€‚',
                'example' => 'æ¯Žæœˆ1ä¸‡å††ã§æ ªã‚’è²·ã†ã¨ã€æ ªä¾¡100å††ã®æ™‚ã¯100æ ªã€æ ªä¾¡50å††ã®æ™‚ã¯200æ ªè²·ãˆã¾ã™ã€‚',
            ],

            // ç¨Žé‡‘é–¢é€£
            [
                'term' => 'æ¶ˆè²»ç¨Ž',
                'reading' => 'ã—ã‚‡ã†ã²ãœã„',
                'category' => 'tax',
                'description' => 'å•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’è³¼å…¥ã™ã‚‹éš›ã«èª²ã•ã‚Œã‚‹ç¨Žé‡‘ã€‚ç¾åœ¨ã®æ¨™æº–ç¨ŽçŽ‡ã¯10%ã€è»½æ¸›ç¨ŽçŽ‡ã¯8%ã§ã™ã€‚',
                'example' => 'ç¨ŽæŠœ1,000å††ã®å•†å“ã¯ã€æ¶ˆè²»ç¨Ž10%ã§ç¨Žè¾¼1,100å††ã«ãªã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'è»½æ¸›ç¨ŽçŽ‡',
                'reading' => 'ã‘ã„ã’ã‚“ãœã„ã‚Šã¤',
                'category' => 'tax',
                'description' => 'ç‰¹å®šã®å“ç›®ã«é©ç”¨ã•ã‚Œã‚‹ä½Žã„ç¨ŽçŽ‡ã€‚æ—¥æœ¬ã§ã¯é£²é£Ÿæ–™å“ï¼ˆé…’é¡žãƒ»å¤–é£Ÿé™¤ãï¼‰ã¨æ–°èžã«8%ã®è»½æ¸›ç¨ŽçŽ‡ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚',
                'example' => 'ã‚¹ãƒ¼ãƒ‘ãƒ¼ã§è²·ã†é£Ÿå“ã¯8%ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§ã®é£Ÿäº‹ã¯10%ã§ã™ã€‚',
            ],
            [
                'term' => 'ã‚¤ãƒ³ãƒœã‚¤ã‚¹åˆ¶åº¦',
                'reading' => 'ã‚¤ãƒ³ãƒœã‚¤ã‚¹ã›ã„ã©',
                'category' => 'tax',
                'description' => '2023å¹´10æœˆã‹ã‚‰é–‹å§‹ã•ã‚ŒãŸé©æ ¼è«‹æ±‚æ›¸ç­‰ä¿å­˜æ–¹å¼ã€‚ä»•å…¥ç¨Žé¡æŽ§é™¤ã‚’å—ã‘ã‚‹ã«ã¯ã€é©æ ¼è«‹æ±‚æ›¸ï¼ˆã‚¤ãƒ³ãƒœã‚¤ã‚¹ï¼‰ã®ä¿å­˜ãŒå¿…è¦ã§ã™ã€‚',
                'example' => 'ç™»éŒ²ç•ªå·T1234567890123ã®ã‚ˆã†ãªç•ªå·ãŒè¨˜è¼‰ã•ã‚ŒãŸè«‹æ±‚æ›¸ãŒå¿…è¦ã§ã™ã€‚',
            ],
            [
                'term' => 'ç¨Žè¾¼ä¾¡æ ¼',
                'reading' => 'ãœã„ã“ã¿ã‹ã‹ã',
                'category' => 'tax',
                'description' => 'æ¶ˆè²»ç¨Žã‚’å«ã‚“ã ä¾¡æ ¼ã€‚æ¶ˆè²»è€…ãŒå®Ÿéš›ã«æ”¯æ‰•ã†é‡‘é¡ã§ã™ã€‚',
                'example' => 'ç¨ŽæŠœ1,000å†† + æ¶ˆè²»ç¨Ž100å†† = ç¨Žè¾¼1,100å††',
            ],
            [
                'term' => 'ç¨ŽæŠœä¾¡æ ¼',
                'reading' => 'ãœã„ã¬ãã‹ã‹ã',
                'category' => 'tax',
                'description' => 'æ¶ˆè²»ç¨Žã‚’å«ã¾ãªã„ä¾¡æ ¼ã€‚å•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã®æœ¬ä½“ä¾¡æ ¼ã§ã™ã€‚',
                'example' => 'ç¨Žè¾¼1,100å††ã®å•†å“ã®ç¨ŽæŠœä¾¡æ ¼ã¯1,000å††ã§ã™ã€‚',
            ],
            [
                'term' => 'ç·é¡è¡¨ç¤º',
                'reading' => 'ãã†ãŒãã²ã‚‡ã†ã˜',
                'category' => 'tax',
                'description' => 'æ¶ˆè²»è€…ã«å¯¾ã—ã¦ç¨Žè¾¼ä¾¡æ ¼ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã€‚2021å¹´4æœˆã‹ã‚‰ç¾©å‹™åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚',
                'example' => 'ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚„POPã«ã¯ã€Œ1,100å††ï¼ˆç¨Žè¾¼ï¼‰ã€ã¨è¡¨ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
            ],

            // æ—¥ä»˜ãƒ»å¹´é½¢é–¢é€£
            [
                'term' => 'æº€å¹´é½¢',
                'reading' => 'ã¾ã‚“ã­ã‚“ã‚Œã„',
                'category' => 'date',
                'description' => 'ç”Ÿã¾ã‚ŒãŸæ—¥ã‚’0æ­³ã¨ã—ã€èª•ç”Ÿæ—¥ã”ã¨ã«1æ­³ãšã¤åŠ ç®—ã™ã‚‹å¹´é½¢ã®æ•°ãˆæ–¹ã€‚ç¾åœ¨æ—¥æœ¬ã§å…¬å¼ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚',
                'example' => '2000å¹´4æœˆ1æ—¥ç”Ÿã¾ã‚Œã®äººã¯ã€2024å¹´4æœˆ1æ—¥ã§æº€24æ­³ã«ãªã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'æ•°ãˆå¹´',
                'reading' => 'ã‹ãžãˆã©ã—',
                'category' => 'date',
                'description' => 'ç”Ÿã¾ã‚ŒãŸå¹´ã‚’1æ­³ã¨ã—ã€å…ƒæ—¥ï¼ˆ1æœˆ1æ—¥ï¼‰ã”ã¨ã«1æ­³ãšã¤åŠ ç®—ã™ã‚‹ä¼çµ±çš„ãªå¹´é½¢ã®æ•°ãˆæ–¹ã€‚åŽ„å¹´ã‚„é•·å¯¿ç¥ã„ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚',
                'example' => '2024å¹´1æœˆ1æ—¥æ™‚ç‚¹ã§ã€2000å¹´ç”Ÿã¾ã‚Œã®äººã¯æ•°ãˆå¹´25æ­³ã§ã™ã€‚',
            ],
            [
                'term' => 'æ—©ç”Ÿã¾ã‚Œ',
                'reading' => 'ã¯ã‚„ã†ã¾ã‚Œ',
                'category' => 'date',
                'description' => '1æœˆ1æ—¥ã‹ã‚‰4æœˆ1æ—¥ã¾ã§ã«ç”Ÿã¾ã‚ŒãŸäººã€‚åŒå­¦å¹´ã®ä¸­ã§èª•ç”Ÿæ—¥ãŒé…ãã€å¹´é½¢ãŒè‹¥ã„ãŸã‚ã€Œæ—©ç”Ÿã¾ã‚Œã€ã¨å‘¼ã°ã‚Œã¾ã™ã€‚',
                'example' => '2018å¹´3æœˆç”Ÿã¾ã‚Œã®å­ã¯ã€2018å¹´4æœˆç”Ÿã¾ã‚Œã®å­ã¨åŒã˜å­¦å¹´ã§ã™ãŒã€1æ­³è‹¥ã„æœŸé–“ãŒã‚ã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'å­¦å¹´',
                'reading' => 'ãŒãã­ã‚“',
                'category' => 'date',
                'description' => '4æœˆ2æ—¥ã‹ã‚‰ç¿Œå¹´4æœˆ1æ—¥ã¾ã§ã«ç”Ÿã¾ã‚ŒãŸå­ã©ã‚‚ã§æ§‹æˆã•ã‚Œã‚‹å­¦æ ¡ã®å˜ä½ã€‚æ—¥æœ¬ã®å­¦æ ¡ã¯4æœˆå§‹ã¾ã‚Šã§ã™ã€‚',
                'example' => '2018å¹´4æœˆ2æ—¥ã€œ2019å¹´4æœˆ1æ—¥ç”Ÿã¾ã‚Œã¯åŒã˜å­¦å¹´ã«ãªã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'ç¾©å‹™æ•™è‚²',
                'reading' => 'ãŽã‚€ãã‚‡ã†ã„ã',
                'category' => 'date',
                'description' => 'ä¿è­·è€…ãŒå­ã©ã‚‚ã«å—ã‘ã•ã›ã‚‹ç¾©å‹™ãŒã‚ã‚‹æ•™è‚²ã€‚æ—¥æœ¬ã§ã¯å°å­¦æ ¡6å¹´é–“ã¨ä¸­å­¦æ ¡3å¹´é–“ã®åˆè¨ˆ9å¹´é–“ã§ã™ã€‚',
                'example' => 'æº€6æ­³ã«ãªã£ãŸã‚‰å°å­¦æ ¡ã«å…¥å­¦ã—ã€15æ­³ã§ä¸­å­¦æ ¡ã‚’å’æ¥­ã—ã¾ã™ã€‚',
            ],

            // è¨ˆç®—ãƒ»æ•°å­¦é–¢é€£
            [
                'term' => '72ã®æ³•å‰‡',
                'reading' => 'ãªãªã˜ã‚…ã†ã«ã®ã»ã†ãã',
                'category' => 'calculation',
                'description' => 'è³‡ç”£ãŒ2å€ã«ãªã‚‹ã¾ã§ã®æœŸé–“ã‚’ç°¡å˜ã«è¨ˆç®—ã§ãã‚‹æ³•å‰‡ã€‚ã€Œ72Ã·å¹´åˆ©çŽ‡ï¼2å€ã«ãªã‚‹å¹´æ•°ã€ã§æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚',
                'example' => 'å¹´åˆ©3%ãªã‚‰ã€72Ã·3=24å¹´ã§è³‡ç”£ãŒ2å€ã«ãªã‚Šã¾ã™ã€‚',
            ],
            [
                'term' => 'ç«¯æ•°å‡¦ç†',
                'reading' => 'ã¯ã™ã†ã—ã‚‡ã‚Š',
                'category' => 'calculation',
                'description' => 'è¨ˆç®—çµæžœã®å°æ•°ç‚¹ä»¥ä¸‹ã‚’å‡¦ç†ã™ã‚‹æ–¹æ³•ã€‚å››æ¨äº”å…¥ã€åˆ‡ã‚Šæ¨ã¦ã€åˆ‡ã‚Šä¸Šã’ãŒã‚ã‚Šã¾ã™ã€‚',
                'example' => '1,234.5å††ã‚’å››æ¨äº”å…¥ã§1,235å††ã€åˆ‡ã‚Šæ¨ã¦ã§1,234å††ã€åˆ‡ã‚Šä¸Šã’ã§1,235å††ã€‚',
            ],
            [
                'term' => 'å‰²å¼•çŽ‡',
                'reading' => 'ã‚ã‚Šã³ãã‚Šã¤',
                'category' => 'calculation',
                'description' => 'å…ƒã®ä¾¡æ ¼ã‹ã‚‰å€¤å¼•ãã•ã‚Œã‚‹å‰²åˆã€‚ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼ˆ%ï¼‰ã§è¡¨ã•ã‚Œã¾ã™ã€‚',
                'example' => '30%OFFã¯ã€å…ƒã®ä¾¡æ ¼ã®30%ã‚’å€¤å¼•ãã™ã‚‹ã“ã¨ã§ã™ã€‚',
            ],
            [
                'term' => 'ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼ˆ%ï¼‰',
                'reading' => 'ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ',
                'category' => 'calculation',
                'description' => '100åˆ†ã®1ã‚’1ã¨ã™ã‚‹å‰²åˆã®å˜ä½ã€‚50%ã¯100åˆ†ã®50ã€ã¤ã¾ã‚ŠåŠåˆ†ã‚’æ„å‘³ã—ã¾ã™ã€‚',
                'example' => '1,000å††ã®20%ã¯ã€1,000Ã—0.2=200å††ã§ã™ã€‚',
            ],
        ];
    }

    /**
     * ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ¥ç”¨èªžã‚’å–å¾—
     */
    private function getTermsByCategory(string $category): array
    {
        $allTerms = $this->getAllTerms();
        return array_filter($allTerms, function($term) use ($category) {
            return $term['category'] === $category;
        });
    }

    /**
     * ã‚«ãƒ†ã‚´ãƒªãƒ¼ä¸€è¦§ã‚’å–å¾—
     */
    private function getCategories(): array
    {
        return [
            'loan' => ['name' => 'ãƒ­ãƒ¼ãƒ³ãƒ»å€Ÿå…¥', 'icon' => 'ðŸ '],
            'savings' => ['name' => 'ç©ç«‹ãƒ»æŠ•è³‡', 'icon' => 'ðŸ’°'],
            'tax' => ['name' => 'ç¨Žé‡‘', 'icon' => 'ðŸ“Š'],
            'date' => ['name' => 'æ—¥ä»˜ãƒ»å¹´é½¢', 'icon' => 'ðŸ“…'],
            'calculation' => ['name' => 'è¨ˆç®—ãƒ»æ•°å­¦', 'icon' => 'ðŸ§®'],
        ];
    }

    /**
     * ã‚«ãƒ†ã‚´ãƒªãƒ¼åã‚’å–å¾—
     */
    private function getCategoryName(string $category): string
    {
        $categories = $this->getCategories();
        return $categories[$category]['name'] ?? $category;
    }
}
